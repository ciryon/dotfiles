{{ if eq .chezmoi.os "linux" }}
-- Linux: load Omarchy theme file if present
local linux_theme = os.getenv("HOME") .. "/.config/omarchy/current/theme/neovim.lua"
local ok, result = pcall(dofile, linux_theme)
if ok then
  return result
else
  vim.notify("Failed to load Omarchy theme at " .. linux_theme .. ": " .. tostring(result), vim.log.levels.WARN)
  return {}
end
{{ else }}
-- macOS: built-in theme fallback (adjust as you like)
return {
  { "folke/tokyonight.nvim", lazy = false, priority = 1000,
    opts = { style = "moon" },
    config = function()
      vim.cmd.colorscheme("tokyonight")
    end
  }
}
{{ end }}

